<!DOCTYPE html>
<html lang="en-US">
	
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Scratch Assets</title>
	<meta name="description" content="View an image from Scratch Assets.">
	<meta name="created" content="2021 Dec 30" />
	<style type="text/css">
		:root {
			font-family: "Helvetica Neue", "Helvetica", Arial, sans-serif;
		}
		
		.imgcontainer {
			text-align: center;
			background: #f8ae40;
			padding: 15px;
			display: none;
		}
		
		body {
			margin: 0;
		}

		main {
			margin: 8px;
		}

		fieldset, input, select {
			border-color: #4d97ff;
			border-style: solid;
		}

		legend, lable {
			color: #4d97ff;
		}

		input, select {
			color: white;
			background: #38e;
			margin-left: 2px;
			margin-top: 5px;
		}

		::placeholder {
			color: #f8ae40ff;
			opacity: 1;
		}
	</style>
</head>
	
<body>
	<div class="imgcontainer">
		<img id="assetView">
	</div>
	<main>
		<form>
			<input type="checkbox" checked name="isURL" style="display:none">
			<fieldset>
				<legend>View from URL</legend>
				<lable for="url">URL</lable>
				<input type="url" name="url" id="url" placeholder="https://assets.scratch.mit.edu/[id].[filetype]" required><br>
				<lable for="isAudio">Is Audio</lable>
				<input type="checkbox" name="isAudio">
				<div>If you right click on an image that's using assets, and click "copy image address," or something like that.</div>
			</fieldset>
			<input type="submit" value="Get from URL">
		</form><br><br>
		<form>
			<input type="checkbox" name="isURL" style="display:none">
			<fieldset>
				<legend>View from id</legend>
				<lable for="id">Id</lable>
				<input type="text" id="id" required placeholder="id" name="id"><br>
				<lable for="type">Image type</lable>
				<select name="type" id="type">
					<option value="svg" selected>SVG(vector)</option>
					<option value="png">PNG(Bitmap)</option>
				</select><br>
				<lable for="isAudio">Is Audio</lable>
				<input type="checkbox" name="isAudio">
				<div>If you're getting the data from the raw JSON... for some reason.</div>
			</fieldset>
			<input type="submit" value="Get from id">
		</form>
	</main>
	<script type="application/javascript">if (location.search != ""|null|undefined) {
			document.getElementsByClassName("imgcontainer")[0].style.display = "block"
			const search = new URLSearchParams(location.search)
			const image = document.getElementById("assetView")
			if (search.has("isURL") && search.get("isURL") == "on"|true|"checked") {
				if (search.has("isAudio")) {
					image.outerHTML = "<audio controls><source src=\"" + search.get("url") + "\" type=\"audio/wav\"> looks like you're browser doesn't support audio ¯\_(ツ)_/¯</audio"
				} else {
					image.src = search.get("url")
				}
			} else {
				if (search.has("isAudio")) {
					image.outerHTML = "<audio controls><source src=\"" + "https://assets.scratch.mit.edu/" + search.get("id") + ".wav" + "\" type=\"audio/wav\">looks like you're browser doesn't support audio ¯\_(ツ)_/¯</audio>"
				} else {
					image.src = "https://assets.scratch.mit.edu/" + search.get("id") + "." + search.get("type")
				}
			}
		}</script>
</body>
	
</html>
